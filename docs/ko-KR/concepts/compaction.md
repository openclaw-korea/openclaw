---
summary: "컨텍스트 윈도우 + 압축: OpenClaw가 세션을 모델 제한 내에서 유지하는 방법"
read_when:
  - 자동 압축 및 /compact 이해 필요 시
  - 컨텍스트 제한에 도달하는 긴 세션 디버깅 시
title: "압축"
---

# 컨텍스트 윈도우 및 압축

모든 모델에는 **컨텍스트 윈도우**(볼 수 있는 최대 토큰)가 있습니다. 장기 실행 채팅은 메시지와 도구 결과를 축적하며, 윈도우가 부족해지면 OpenClaw는 이전 히스토리를 **압축**하여 제한 내에 유지합니다.

## 압축이란

압축은 **이전 대화를 요약**하여 간결한 요약 항목으로 만들고 최근 메시지는 그대로 유지합니다. 요약은 세션 히스토리에 저장되므로 향후 요청에서 다음을 사용합니다:

- 압축 요약
- 압축 지점 이후의 최근 메시지

압축은 세션의 JSONL 히스토리에 **영구적으로 저장**됩니다.

## 설정

압축 설정 및 모드는 [압축 설정 및 모드](/concepts/compaction)의 `agents.defaults.compaction` 설정을 참조하세요.

## 자동 압축 (기본값 켜짐)

세션이 모델의 컨텍스트 윈도우에 근접하거나 초과하면 OpenClaw는 자동 압축을 트리거하고 압축된 컨텍스트를 사용하여 원래 요청을 재시도할 수 있습니다.

다음을 볼 수 있습니다:

- 상세 모드에서 `🧹 Auto-compaction complete`
- `/status`에서 `🧹 Compactions: <count>` 표시

압축 전에 OpenClaw는 **자동 메모리 플러시** 턴을 실행하여 영구 노트를 디스크에 저장할 수 있습니다. 자세한 내용 및 설정은 [메모리](/concepts/memory)를 참조하세요.

## 수동 압축

`/compact`를 사용하여(선택적으로 지침 포함) 압축 패스를 강제 실행할 수 있습니다:

```
/compact Focus on decisions and open questions
```

## 컨텍스트 윈도우 소스

컨텍스트 윈도우는 모델별로 다릅니다. OpenClaw는 설정된 프로바이더 카탈로그의 모델 정의를 사용하여 제한을 결정합니다.

## 압축 vs 가지치기

- **압축**: 요약하고 JSONL에 **영구적으로 저장**합니다.
- **세션 가지치기**: 오래된 **도구 결과**만 트리밍하며, 요청별로 **인메모리**로 수행됩니다.

가지치기 세부 정보는 [/concepts/session-pruning](/concepts/session-pruning)을 참조하세요.

## 팁

- 세션이 오래되었거나 컨텍스트가 비대해진 것 같으면 `/compact`를 사용하세요.
- 큰 도구 출력은 이미 잘립니다; 가지치기는 도구 결과 축적을 더욱 줄일 수 있습니다.
- 완전히 새로운 시작이 필요한 경우, `/new` 또는 `/reset`으로 새 세션 ID를 시작하세요.
