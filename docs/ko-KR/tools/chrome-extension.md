---
summary: "Chrome 확장 프로그램: OpenClaw이 기존 Chrome 탭을 제어합니다"
read_when:
  - 에이전트가 기존 Chrome 탭을 제어하려는 경우 (도구 모음 버튼)
  - 원격 게이트웨이와 Tailscale을 통한 로컬 브라우저 자동화가 필요한 경우
  - 브라우저 인수의 보안 영향을 이해하려는 경우
title: "Chrome 확장 프로그램"
---

# Chrome 확장 프로그램 (브라우저 릴레이)

OpenClaw Chrome 확장 프로그램은 에이전트가 별도의 openclaw 관리 Chrome 프로필을 실행하는 대신 **기존 Chrome 탭** (일반적인 Chrome 창)을 제어할 수 있도록 해줍니다.

연결/분리는 **단일 Chrome 도구 모음 버튼**으로 수행됩니다.

## 개념 설명

세 가지 부분이 있습니다:

- **브라우저 제어 서비스** (게이트웨이 또는 노드): 에이전트/도구가 호출하는 API (게이트웨이를 통해)
- **로컬 릴레이 서버** (로컬 루프백 CDP): 제어 서버와 확장 프로그램 간의 브리지 (`http://127.0.0.1:18792` 기본값)
- **Chrome MV3 확장 프로그램**: `chrome.debugger`를 사용하여 활성 탭에 연결하고 CDP 메시지를 릴레이로 전송합니다

OpenClaw는 일반적인 `browser` 도구 표면 (올바른 프로필 선택)을 통해 연결된 탭을 제어합니다.

## 설치 / 로드 (압축 해제)

1. 확장 프로그램을 안정적인 로컬 경로에 설치합니다:

```bash
openclaw browser extension install
```

2. 설치된 확장 프로그램 디렉토리 경로를 표시합니다:

```bash
openclaw browser extension path
```

3. Chrome → `chrome://extensions`

- "개발자 모드" 활성화
- "압축 해제된 확장 프로그램 로드" → 위에 인쇄된 디렉토리 선택

4. 확장 프로그램을 고정합니다.

## 업데이트 (빌드 단계 없음)

확장 프로그램은 OpenClaw 릴리스 (npm 패키지) 내에 정적 파일로 포함되어 있습니다. 별도의 "빌드" 단계는 없습니다.

OpenClaw를 업그레이드한 후:

- `openclaw browser extension install`을 다시 실행하여 OpenClaw 상태 디렉토리 아래 설치된 파일을 새로 고칩니다.
- Chrome → `chrome://extensions` → 확장 프로그램에서 "다시 로드" 클릭합니다.

## 사용 (추가 설정 불필요)

OpenClaw는 `chrome`이라는 이름의 기본 제공 브라우저 프로필과 함께 제공되며, 기본 포트의 확장 프로그램 릴레이를 대상으로 합니다.

사용 방법:

- CLI: `openclaw browser --browser-profile chrome tabs`
- 에이전트 도구: `profile="chrome"`이 포함된 `browser`

다른 이름이나 다른 릴레이 포트를 사용하려면 고유한 프로필을 만듭니다:

```bash
openclaw browser create-profile \
  --name my-chrome \
  --driver extension \
  --cdp-url http://127.0.0.1:18792 \
  --color "#00AA00"
```

## 연결 / 분리 (도구 모음 버튼)

- OpenClaw가 제어할 탭을 엽니다.
- 확장 프로그램 아이콘을 클릭합니다.
  - 배지는 연결되어 있을 때 `ON`을 표시합니다.
- 다시 클릭하여 분리합니다.

## 어느 탭을 제어합니까?

- "보고 있는 탭"을 자동으로 제어하지 **않습니다**.
- 도구 모음 버튼을 클릭하여 **명시적으로 연결한 탭만** 제어합니다.
- 전환하려면: 다른 탭을 열고 거기서 확장 프로그램 아이콘을 클릭합니다.

## 배지 + 일반적인 오류

- `ON`: 연결됨; OpenClaw가 해당 탭을 제어할 수 있습니다.
- `…`: 로컬 릴레이에 연결 중입니다.
- `!`: 릴레이에 연결할 수 없음 (가장 흔한 원인: 브라우저 릴레이 서버가 이 머신에서 실행 중이 아님).

`!`가 표시되면:

- 게이트웨이가 로컬에서 실행 중인지 확인하거나 (기본 설정), 게이트웨이가 다른 곳에서 실행 중인 경우 이 머신에서 노드 호스트를 실행합니다.
- 확장 프로그램 옵션 페이지를 엽니다. 릴레이에 연결할 수 있는지 여부를 보여줍니다.

## 원격 게이트웨이 (노드 호스트 사용)

### 로컬 게이트웨이 (Chrome과 동일한 머신) — 보통 **추가 단계 불필요**

게이트웨이가 Chrome과 동일한 머신에서 실행 중이면 루프백에서 브라우저 제어 서비스를 시작하고 릴레이 서버를 자동으로 시작합니다. 확장 프로그램은 로컬 릴레이와 대화합니다. CLI/도구 호출은 게이트웨이로 이동합니다.

### 원격 게이트웨이 (게이트웨이가 다른 곳에서 실행) — **노드 호스트 실행**

게이트웨이가 다른 머신에서 실행 중이면 Chrome을 실행하는 머신에서 노드 호스트를 시작합니다.
게이트웨이는 브라우저 작업을 해당 노드로 프록시합니다. 확장 프로그램 + 릴레이는 브라우저 머신에 로컬로 유지됩니다.

여러 노드가 연결된 경우 `gateway.nodes.browser.node`로 하나를 고정하거나 `gateway.nodes.browser.mode`을 설정합니다.

## 샌드박싱 (도구 컨테이너)

에이전트 세션이 샌드박스 격리된 경우 (`agents.defaults.sandbox.mode != "off"`), `browser` 도구를 제한할 수 있습니다:

- 기본적으로 샌드박스 격리된 세션은 종종 호스트 Chrome이 아닌 **샌드박스 브라우저** (`target="sandbox"`)를 대상으로 합니다.
- Chrome 확장 프로그램 릴레이 인수에는 **호스트** 브라우저 제어 서버를 제어해야 합니다.

옵션:

- 가장 쉬운 방법: **샌드박스 격리되지 않은** 세션/에이전트에서 확장 프로그램을 사용합니다.
- 또는 샌드박스 격리된 세션에 대해 호스트 브라우저 제어를 허용합니다:

```json5
{
  agents: {
    defaults: {
      sandbox: {
        browser: {
          allowHostControl: true,
        },
      },
    },
  },
}
```

그런 다음 도구 정책으로 도구가 거부되지 않도록 하고 필요한 경우 `target="host"`로 `browser`를 호출합니다.

디버깅: `openclaw sandbox explain`

## 원격 접근 팁

- 게이트웨이와 노드 호스트를 동일한 tailnet에 유지합니다. 릴레이 포트를 LAN 또는 공개 인터넷에 노출하지 않습니다.
- 노드를 의도적으로 페어링합니다. 원격 제어를 원하지 않으면 브라우저 프록시 라우팅을 비활성화합니다 (`gateway.nodes.browser.mode="off"`).

## "확장 프로그램 경로" 작동 방식

`openclaw browser extension path`는 확장 프로그램 파일이 포함된 **설치된** 디스크의 디렉토리를 인쇄합니다.

CLI는 의도적으로 `node_modules` 경로를 인쇄하지 **않습니다**. OpenClaw 상태 디렉토리 아래의 안정적인 위치에 확장 프로그램을 복사하려면 먼저 항상 `openclaw browser extension install`을 실행합니다.

설치 디렉토리를 이동하거나 삭제하면 Chrome은 유효한 경로에서 다시 로드할 때까지 확장 프로그램을 손상된 것으로 표시합니다.

## 보안 영향 (필독)

이것은 강력하고 위험합니다. 모델에 "브라우저에 직접 손을 댈 수 있는 권한"을 주는 것처럼 다루십시오.

- 확장 프로그램은 Chrome의 디버거 API (`chrome.debugger`)를 사용합니다. 연결되면 모델은 다음을 수행할 수 있습니다:
  - 해당 탭에서 클릭/입력/탐색
  - 페이지 내용 읽기
  - 탭의 로그인된 세션이 액세스할 수 있는 것 접근
- **이것은 전용 openclaw 관리 프로필처럼 격리되지 않습니다**.
  - 일상적인 프로필/탭에 연결하면 해당 계정 상태에 대한 액세스 권한을 부여하게 됩니다.

권장사항:

- 확장 프로그램 릴레이 사용을 위해 개인 탐색과 별도의 Chrome 프로필 (전용)을 선호합니다.
- 게이트웨이와 모든 노드 호스트를 tailnet 전용으로 유지합니다. 게이트웨이 인증 + 노드 페어링에 의존합니다.
- LAN (`0.0.0.0`)을 통해 릴레이 포트를 노출하지 않습니다. Funnel (공개)을 피합니다.
- 릴레이는 비확장 프로그램 원본을 차단하고 CDP 클라이언트에 대한 내부 인증 토큰이 필요합니다.

관련:

- 브라우저 도구 개요: [Browser](/tools/browser)
- 보안 감사: [Security](/gateway/security)
- Tailscale 설정: [Tailscale](/gateway/tailscale)
